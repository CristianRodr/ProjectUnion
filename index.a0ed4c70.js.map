{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-609ebc487c639c98.js","src/day.js","node_modules/@parcel/runtime-js/lib/runtime-0053537e794e00f5.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"iRWaR\\\":\\\"index.a0ed4c70.js\\\",\\\"8Ip6y\\\":\\\"Icons.496e9310.svg\\\",\\\"6KzB2\\\":\\\"index.8064ebdc.js\\\"}\"));","import icons from './images/Icons.svg';\n\nconst form = document.querySelector('.header__form');\nconst labelDate = document.querySelector('.clock');\nconst labelDay = document.querySelector('.square-day');\nconst labelAbreDay = document.querySelector('.abbreviation-day');\nconst labelMonth = document.querySelector('.month');\nconst region = document.querySelector('.square-country');\nconst temperatura = document.querySelector('.square-degrees');\nconst min = document.querySelector('.min');\nconst max = document.querySelector('.max');\nconst amanecer = document.querySelector('.dawn');\nconst atardecer = document.querySelector('.sunset');\nconst icon = document.querySelector('.clima-icon');\nconst legenda = document.querySelector(\".legend\")\n\nconst LOCALSTORAGE_KEY = \"clima-message\";\n\n//Toma del Input\nconst tomaCiudadInput = function () {\n  form.addEventListener('submit', function (event) {\n    event.preventDefault();\n\n    const {\n      elements: { ciudad },\n    } = event.target;\n\n    console.log(ciudad.value);\n    busquedaClima(ciudad.value);\n    localStorage.setItem(LOCALSTORAGE_KEY, ciudad.value);\n    //console.log(localStorage.getItem(LOCALSTORAGE_KEY));\n    event.currentTarget.reset();\n    clearInterval(timerVariable);\n\n    ///////////////////////////////////////\n\n    //const serializedState = JSON.stringify(value);\n\n  });\n};\n\ntomaCiudadInput();\n\n//Uso de la API de international\n//Forma sencilla de formatear fechas y horas\n/*const localInterval = setInterval(function () {\n  const now = new Date();\n\n  const optionClock = {\n    hour: \"numeric\",\n    minute: \"numeric\",\n    second: \"numeric\",\n    hour12: false,\n  };\n\n  labelDate.innerText = new Intl.DateTimeFormat(\"local\", optionClock).format(\n    now\n  );\n\n}, 1000);*/\n\nconst localTime = function () {\n  const now = new Date();\n\n  const optionDay = {\n    day: 'numeric',\n    weekday: 'short',\n  };\n\n  const optionMonth = {\n    month: 'long',\n  };\n\n  labelDay.innerText = new Intl.DateTimeFormat('local', optionDay).format(now);\n\n  labelMonth.textContent = new Intl.DateTimeFormat('local', optionMonth).format(\n    now\n  );\n};\n\nlocalTime();\n\nlet timerVariable;\n\nconst busquedaClima = async function (busqueda) {\n  try {\n    const posClima = await fetch(`\n    https://api.openweathermap.org/data/2.5/weather?q=${busqueda}&appid=c1e47110da4d70de2cafd30f980532f1&units=metric&lang=es`);\n    const dataClima = await posClima.json();\n    console.log(dataClima);\n\n    if (!posClima.ok)\n      throw new Error(`${dataClima.message} (${posClima.status})`);\n\n    const { main, sys, wind, weather } = dataClima;\n    console.log(weather[0]);\n\n    console.log(weather[0].description);\n    legenda.textContent = `El pronostico para ${dataClima.name}, ${sys.country}. el dia de hoy, ${weather[0].description}`\n\n    let icon_Nubes = [weather[0].main];\n    console.log(icon_Nubes);\n\n    if (icon_Nubes.includes('Clouds')) {\n      icon.setAttribute('xlink:href', `${icons}#icon-Nubes`);\n    }\n    if (icon_Nubes.includes('Clear')) {\n      icon.setAttribute('xlink:href', `${icons}#icon-calor`);\n    }\n    if (icon_Nubes.includes('Fog')) {\n      icon.setAttribute('xlink:href', `${icons}#icon-Icono1`);\n    }\n    if (icon_Nubes.includes('Rain')) {\n      icon.setAttribute('xlink:href', `${icons}#icon-Icono1`);\n    }\n    if (icon_Nubes.includes('Snow')) {\n      icon.setAttribute('xlink:href', `${icons}#icon-Icono3`);\n    }\n\n    temperatura.textContent = Math.trunc(main.temp);\n    min.textContent = `${Math.trunc(main.temp_min)}°`;\n    max.textContent = `${Math.trunc(main.temp_max)}°`;\n    region.textContent = `${dataClima.name}, ${sys.country}`;\n    console.log(`${dataClima.name}, ${sys.country}`);\n\n    const output = function (amanecer) {\n      let sunrise = moment.unix(amanecer).utc();\n      return moment(sunrise._i).format('LT');\n    };\n\n    const closet = function (atardecer) {\n      let sunset = moment.unix(atardecer).utc();\n      return moment(sunset._i).format('LT');\n    };\n\n    const sunrise = output(sys.sunrise);\n    const sunset = closet(sys.sunset);\n\n    amanecer.textContent = sunrise;\n    atardecer.textContent = sunset;\n\n    function convertTime(dt, timezone) {\n      let d = new Date(dt * 1000);\n      d.setMinutes(d.getMinutes() + d.getTimezoneOffset());\n      d.setSeconds(d.getSeconds() + timezone);\n\n      const date = new Date(d);\n      console.log(date);\n\n      const hra = date.getHours();\n      const min = date.getMinutes();\n      const seg = date.getSeconds();\n\n      let h = 3600;\n      let m = 60;\n      let s = 1;\n\n      const operacion = h * hra + m * min + s * seg;\n      console.log(operacion);\n\n      timerVariable = setInterval(countUpTimer, 1000);\n      let totalSeconds = operacion;\n\n      function countUpTimer() {\n        ++totalSeconds;\n        const hour = String(Math.floor(totalSeconds / 3600)).padStart(2, 0);\n        const minute = String(\n          Math.floor((totalSeconds - hour * 3600) / 60)\n        ).padStart(2, 0);\n        const seconds = String(\n          totalSeconds - (hour * 3600 + minute * 60)\n        ).padStart(2, 0);\n        //console.log(hour + \":\" + minute + \":\" + seconds);\n        labelDate.textContent = hour + ':' + minute + ':' + seconds;\n      }\n\n      const optionDay = {\n        day: 'numeric',\n        weekday: 'short',\n      };\n\n      const optionMonth = {\n        month: 'long',\n      };\n\n      labelDay.textContent = new Intl.DateTimeFormat('local', optionDay).format(\n        date\n      );\n\n      labelMonth.textContent = new Intl.DateTimeFormat(\n        'local',\n        optionMonth\n      ).format(date);\n\n      return d;\n    }\n\n    //console.log(convertTime(dataClima.dt, dataClima.timezone));\n    convertTime(dataClima.dt, dataClima.timezone);\n  } catch (err) {\n    alert(err);\n  }\n};\n\nconst getPosition = function () {\n  return new Promise(function (resolve, reject) {\n    navigator.geolocation.getCurrentPosition(resolve, reject);\n  });\n};\n\nconst whereAmI = function () {\n  getPosition()\n    .then(pos => {\n      const { latitude: lat, longitude: lng } = pos.coords;\n\n      return fetch(\n        `http://api.openweathermap.org/geo/1.0/reverse?lat=${lat}&lon=${lng}&limit=&appid=c1e47110da4d70de2cafd30f980532f1`\n      );\n    })\n    .then(res => {\n      if (!res.ok) throw new Error(`Problem with geocoding ${res.status}`);\n      return res.json();\n    })\n    .then(data => {\n      console.log(data);\n      console.log(`You are in ${data[0].name}, ${data[0].country}`);\n      const country = data[0].country.toLowerCase();\n      busquedaClima(data[0].name);\n\n      return fetch(`https://restcountries.com/v3.1/name/${country}`);\n    })\n    .then(res => {\n      if (!res.ok) throw new Error(`Country not found (${res.status})`);\n\n      return res.json();\n    })\n    .then(data => {\n      console.log(data[0]);\n    })\n    .catch(err => console.error(`${err.message} 💥`));\n};\n\nwhereAmI();\n\n/////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////\ndocument.addEventListener('DOMContentLoaded', function (ev) {\n  console.log('HTML analizado y dom construido');\n});","module.exports = require('./helpers/bundle-url').getBundleURL('iRWaR') + require('./helpers/bundle-manifest').resolve(\"8Ip6y\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$bd7ce7538cdb0fa3$exports","getBundleURL","resolve","$20286daa7d900cd7$var$form","document","querySelector","$20286daa7d900cd7$var$labelDate","$20286daa7d900cd7$var$labelDay","$20286daa7d900cd7$var$labelMonth","$20286daa7d900cd7$var$region","$20286daa7d900cd7$var$temperatura","$20286daa7d900cd7$var$min","$20286daa7d900cd7$var$max","$20286daa7d900cd7$var$amanecer","$20286daa7d900cd7$var$atardecer","$20286daa7d900cd7$var$icon","$20286daa7d900cd7$var$legenda","addEventListener","event","preventDefault","ciudad","target","elements","console","log","$20286daa7d900cd7$var$busquedaClima","localStorage","setItem","currentTarget","reset","clearInterval","$20286daa7d900cd7$var$timerVariable","now","Date","innerText","Intl","DateTimeFormat","day","weekday","format","textContent","month","$parcel$interopDefault","$2TvXO","mark","_callee","busqueda","posClima","dataClima","main","sys","weather","icon_Nubes","closet","sunrise1","sunset1","convertTime","dt","timezone","d","setMinutes","getMinutes","getTimezoneOffset","setSeconds","getSeconds","date","operacion","getHours","setInterval","totalSeconds","hour","String","Math","floor","padStart","minute","seconds","fetch","concat","_ctx","sent","json","ok","message","status","wind","description","name","country","includes","setAttribute","trunc","temp","temp_min","temp_max","atardecer1","sunset","moment","unix","utc","_i","amanecer1","sunrise","alert","t0","Promise","reject","navigator","geolocation","getCurrentPosition","then","pos","_coords","coords","lat","latitude","lng","longitude","res","data","toLowerCase","catch","error","ev"],"version":3,"file":"index.a0ed4c70.js.map"}